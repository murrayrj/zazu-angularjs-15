<div class="col-sm-4 col-md-3 sidebar">
  <div ng-include src="'partials/myAccount.html'"></div>
  <div ui-view="cart"></div>
  <div ui-view="search"></div>
</div>
<div class="col-sm-8 col-md-9" ng-app="zazuApp" ng-controller="RegisterController">
  <div class="panel panel-default margin-b-12" style="padding: 20px; padding-bottom: 0;">
    <form name="form" ng-submit="saveUser()" role="form" novalidate>
      <h2 class="margin-b-12 text-center">Change Account Settings</h2>
      <div class="col-md-6">
        <label class="control-label" for="username">Username</label>
        <div class="form-group" ng-class="{ 'has-error': form.username.$dirty && form.username.$error.required }">
          <input type="text" name="username" id="username" class="form-control" ng-model="user.username" ng-minlength="3" required autofocus/>
          <p ng-show="form.username.$dirty && form.username.$error.required" class="help-block">Username is required</p>
          <p ng-show="form.username.$error.minlength" class="help-block">Username is too short.</p>
        </div>

        <label class="control-label" for="email">E-mail</label>
        <div class="form-group" ng-class="{ 'has-error': form.email.$dirty && form.email.$invalid }">
          <input type="email" id="email" name="email" placeholder="" class="form-control" ng-model="user.email">
          <span class="custom-error" ng-show="form.email.$dirty && form.email.$invalid" style="color: #a94442;">Invalid email</span>
        </div>

        <label class="control-label" for="telephone">Telephone</label>
        <div class="form-group">
          <input class="form-control" type="tel" id="phone" name="telephone" required/>
          <input id="hidden" type="hidden" name="phone-full">
          <span id="error-msg" class="help-block hide" style="color: #a94442;">Invalid number</span>
          <span id="valid-msg" class="help-block hide"></span>
        </div>

        <label class="control-label" for="password">Password</label>
        <div class="form-group" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
          <button type="button" class="btn btn-block btn-grey margin-b-12 form-group">Change password</button>
        </div>
      </div>
      <div class="col-md-6">
        <label class="control-label" for="role">Role</label>
        <div class="form-group" ng-class="{ 'has-error': form.role.$dirty && form.role.$error.required }">
          <input type="text" name="role" id="role" class="form-control" ng-model="user.role" required autofocus/>
          <p ng-show="form.role.$dirty && form.role.$error.required" class="help-block">Role is required</p>
        </div>
        
        <label class="control-label" for="w3w">What3Words Address</label>
        <div class="form-group margin-b-12" ng-class="{ 'has-error': form.w3w.$dirty && form.w3w.$error.required }">
          <input type="text" name="w3w" id="w3w" class="form-control"  ng-model="user.w3w" required />
          <input class="w3w-logo getLocGeo" type="image" src="assets/img/w3w.png">
          <p ng-show="form.w3w.$dirty && form.w3w.$error.required" class="help-block">Address is required</p>
        </div>

        <label class="control-label" for="locationName">Location Name</label>
        <div class="form-group" ng-class="{ 'has-error': form.locationName.$dirty && form.locationName.$error.required }">
          <input type="text" id="locationName" name="locationName" placeholder="" class="form-control" ng-model="user.locationName">
          <span class="help-block" ng-show="form.locationName.$dirty && form.locationName.$error.required">Name of location is required</span>
        </div>
        <label class="control-label" for="country">Country</label>
        <div class="form-group">
          <input class="form-control" id="country_selector" type="text" name="country" required/>
        </div>
      </div>
      <button type="submit" class="btn btn-block btn-blue margin-b-12 form-group" ng-disabled="form.$invalid || form.email.$invalid || form.telephone.$pristine">Save</button>
    </form>
  </div>
</div>
<script src="assets/js/verify.js"></script>
<script>
    $("#country_selector").countrySelect({
      defaultCountry: "zw",
      preferredCountries: ['mw', 'na','za', 'zm', 'zw']
    });
</script>